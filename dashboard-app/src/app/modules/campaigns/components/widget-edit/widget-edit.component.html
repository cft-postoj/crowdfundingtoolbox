<div class="active bg-overlay"></div>
<div class="d-flex active settings" [ngClass]="{'preview' : preview}">
    <div class="settings--head">
        <b>EDIT <span class="title">{{widget?.widget_type?.name | uppercase }}</span></b>
        <span
            [inlineSVG]="'/assets/images/icons/close.svg'"
            (click)="closeEditWindow()"
            title="Close"
            class="settings--close">
               </span>
    </div>
    <ng-container *ngIf="loading">
        <app-loading [isLoading]="loading"></app-loading>
    </ng-container>

    <ng-container *ngIf="!loading">
        <div class="settings--body">
            <div class="settings--body--content">
                <div class="row" *ngIf="widget.widget_type.method === widgetTypes.locked.name">
                    <div class="col">
                        This kind of crowdfunding toolbox widgets is situating in the middle of article and it hide
                        second half of article. It hides 50% of
                        article's paragraphs.
                    </div>
                </div>
                <p *ngIf="(widget.widget_type.method == widgetTypes.locked.name) ||  (widget.widget_type.method == widgetTypes.sidebar.name) ||  (widget.widget_type.method == widgetTypes.leaderboard.name)">
                    <b>Take a note, this widget is positioning on whole width of parent container width (on your portal
                        side) by default. If you want change widget width, set it up in BACKGROUND.</b>
                </p>
                <div class="collapse-container" *ngIf="widget.widget_type.method === widgetTypes.locked.name"
                     [ngClass]="{'flex-open':isOpened(9)}">
                    <div class="collapsible--header row" (click)="openTab(9)">
                        <div class="col-11">
                            BUTTON CONTINUE READING
                        </div>
                        <div class="col-1">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(9)" aria-controls="general-settings">
                            </label>
                        </div>
                    </div>
                    <div [ngbCollapse]="!isOpened(9)">
                        This button is situating before the widget and can show the content of some article without
                        donating.
                        <div class="col-12 mt-2">
                            <div class="row">
                                <div class="btn-group-vertical col-12 mb-3">
                                    <div class="btn-group" role="group" aria-label="Basic example">
                                        <button type="button"
                                                (click)="cta='Default'"
                                                [class]="(cta == 'Default') ? 'btn active' : 'btn'">
                                            Default
                                        </button>
                                        <button type="button" (click)="cta='Hover'"
                                                [class]="(cta == 'Hover') ? 'btn active' : 'btn'">Hover
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="settings--card--wrapper" *ngIf="cta=='Default'">
                            <div class="settings--card">
                                <div class="row">
                                    <span class="col font-weight-bold">Button text</span>
                                </div>
                                <div class="row editInput">
                                    <div class="col">
                                        <input #cta id="continue_reading_button"
                                               placeholder="Please add text for button"
                                               [(ngModel)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.text"
                                               maxlength="60">
                                        <span class="actualLength">
                                           {{widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.text ? widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.text.length : 0}}
                                            / {{cta?.maxLength}}
                                         </span>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col-12 bold">
                                        Button offsets
                                    </div>
                                    <div class="col-12 col-xxl-6">
                                        Inside
                                        <app-input-group [buttons]="paddingContinueReadingButton"
                                                         (buttonChange)="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.padding[$event.name] = $event.value">

                                        </app-input-group>
                                    </div>
                                    <div class="col-12 col-xxl-6 pt-3 pt-xxl-0">
                                        Outside
                                        <app-input-group [buttons]="marginContinueReadingButton"
                                                         (buttonChange)="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.margin[$event.name] = $event.value">
                                        </app-input-group>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col-12 bold">
                                        Button alignment
                                    </div>
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col-6 vertical-align">
                                            <app-radio-button-group [class]="'full-width'"
                                                                    [(currentValue)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.alignment"
                                                                    [radioButtons]="radioButtons"
                                            >
                                            </app-radio-button-group>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col-12 bold">
                                        Font settings
                                    </div>
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col vertical-align">
                                            Font Family
                                        </div>
                                        <div class="col vertical-align">
                                            <app-dropdown [items]="fontFamilyDropdownButtons"
                                                          [class]="'classic default-border align-right'"
                                                          [title]="'Choose font'"
                                                          [customFonts]="true"
                                                          [(currentValue)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.fontSettings.fontFamily">
                                            </app-dropdown>
                                        </div>
                                        <div class="col vertical-align">
                                            Font weight
                                        </div>
                                        <div class="col">
                                            <app-dropdown [items]="fontWeight"
                                                          [class]="'classic default-border align-right'"
                                                          [title]="'weight'"
                                                          [(currentValue)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.fontSettings.fontWeight">
                                            </app-dropdown>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col vertical-align">
                                            Color
                                        </div>
                                        <div class="col">
                                            <input
                                                [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.fontSettings.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.fontSettings.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.fontSettings.color"/>
                                        </div>
                                        <div class="col vertical-align">
                                            Size (px)
                                        </div>
                                        <div class="col">
                                            <app-inputNumber
                                                [(value)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.fontSettings.fontSize"
                                                [class]="'float-right'">
                                            </app-inputNumber>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">
                                        Design
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Fill'"
                                                      [(checked)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.fill.active">
                                        </app-checkbox>
                                    </div>
                                    <div class="col-4"
                                         *ngIf="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.fill.active">
                                        <input
                                            [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.fill.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.fill.color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.fill.color"/>
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Border'"
                                                      [(checked)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.border.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.border.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.border.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.border.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.border.color"/>
                                        </div>
                                        <div class="col-2 offset-1 vertical-align">
                                            Size (px)
                                        </div>
                                        <div class="col-2">
                                            <app-inputNumber [class]="'float-right'"
                                                             [(value)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.border.size"></app-inputNumber>
                                        </div>
                                    </ng-container>
                                </div>

                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Shadow'"
                                                      [(checked)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.shadow.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.shadow.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.shadow.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.shadow.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.shadow.color"/>
                                        </div>
                                        <div class="col-5 vertical-align">
                                            <app-input-group [buttons]="shadowButtons"
                                                             (buttonChange)="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.shadow[$event.name] = $event.value">
                                            </app-input-group>
                                        </div>
                                    </ng-container>
                                </div>

                            </div>
                            <div class="settings--card">
                                <div class="settings--card--header">
                                    <div class="row ">
                                        <div class="col">
                                            Radius
                                        </div>
                                    </div>
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col-3 vertical-align">
                                            <app-radio-button-group
                                                [(currentValue)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.radius.active"
                                                [radioButtons]="radiusButtons">
                                            </app-radio-button-group>
                                        </div>
                                        <ng-container
                                            *ngIf="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.radius.active">
                                            <div class="col-3 vertical-align">
                                                <app-input-group [buttons]="allRadiusesButton"
                                                                 (buttonChange)="writeRadiusValue($event.value)"
                                                                 [fill]="true"
                                                                 [class]="!specificRadius?'active':''"
                                                                 (click)="setSpecificRadius(false)">
                                                </app-input-group>
                                            </div>
                                            <div class="col-6">
                                                <div class="row">
                                                    <div class="col-2 vertical-align text-right">
                                                        or
                                                    </div>
                                                    <div class="col-10">
                                                        <app-input-group [buttons]="specificRadiusButtons"
                                                                         (buttonChange)="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.design.radius[$event.name] = $event.value"
                                                                         [fill]="true"
                                                                         [class]="specificRadius?'active':''"
                                                                         (click)="setSpecificRadius(true)">
                                                        </app-input-group>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="settings--card--wrapper" *ngIf="cta=='Hover'">
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">Hover font settings</div>
                                </div>
                                <div class="row">
                                    <div class="col-2 vertical-align">
                                        Font weight
                                    </div>
                                    <div class="col-4">
                                        <app-dropdown [class]="'classic default-border'"
                                                      [title]="'Choose font weight'"
                                                      [items]="fontWeight"
                                                      [(currentValue)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.fontSettings.fontWeight">
                                        </app-dropdown>
                                    </div>
                                    <div class="col-2 vertical-align">
                                        Color
                                    </div>
                                    <div class="col-4 color-picker--simple">
                                        <input
                                            [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.fontSettings.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.fontSettings.color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.fontSettings.color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">
                                        Design
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Fill'"
                                                      [(checked)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.fill.active">
                                        </app-checkbox>
                                    </div>
                                    <div class="col-4"
                                         *ngIf="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.fill.active">
                                        <input
                                            [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.fill.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.fill.color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.fill.color"/>
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Border'"
                                                      [(checked)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.border.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.border.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.border.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.border.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.border.color"/>
                                        </div>
                                        <div class="col-2 offset-1 vertical-align">
                                            Size (px)
                                        </div>
                                        <div class="col-2">
                                            <app-inputNumber [class]="'float-right'"
                                                             [(value)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.border.size"></app-inputNumber>
                                        </div>
                                    </ng-container>
                                </div>

                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Shadow'"
                                                      [(checked)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.shadow.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.shadow.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.shadow.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.shadow.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.shadow.color"/>
                                        </div>
                                        <div class="col-5 vertical-align">
                                            <app-input-group [buttons]="shadowButtons"
                                                             (buttonChange)="widget.settings[deviceType].additional_settings.continueReadingButtonContainer.button.hover.design.shadow[$event.name] = $event.value">
                                            </app-input-group>
                                        </div>
                                    </ng-container>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(12)}"
                     *ngIf="widget.widget_type.method === widgetTypes.article.name || widget.widget_type.method === widgetTypes.article_advanced.name">
                    <div class="collapsible--header row" (click)="openTab(12)">
                        <div class="col-11">
                            POSITION
                        </div>
                        <div class="col-1">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(12)" aria-controls="general-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(12)">
                        <div class="settings--card">
                            <div class="settings--card--header">
                                Available subtypes
                            </div>
                            <div class="settings--card--body">
                                <div class="row">
                                    <ng-container *ngFor="let widgetSetting of widgetSettings">
                                        <div class="col-6 pt-2">
                                            {{widgetSetting.name}}
                                        </div>
                                        <div class="col-6 pt-2">
                                            <app-checkbox [name]="'Active'"
                                                          [(checked)]="widgetSetting.active">
                                            </app-checkbox>
                                        </div>
                                    </ng-container>
                                    <div class="col-12 pt-2 bold">
                                        Edit settings for position:
                                    </div>
                                    <div class="col-12">
                                        <app-dropdown [class]="'classic default-border align-right'"
                                                      [(currentValue)]="activeWidgetSettings"
                                                      (currentValueChange)="updateCurrentWidgetSettings($event)"
                                                      [items]="availableSubtypes">
                                        </app-dropdown>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(1)}"
                     *ngIf="widget.widget_type.method !== widgetTypes.custom.name">
                    <div class="collapsible--header row" (click)="openTab(1)">
                        <div class="col-11">
                            BACKGROUND
                        </div>
                        <div class="col-1">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(1)" aria-controls="general-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(1)">
                        <div class="settings--card">
                            <div class="row">
                                <div class="col-12">
                                    <span>
                                        Width & Height
                                    </span>
                                    <app-help class="pl-4 position-relative"
                                              [text]="'Width and height in px, % or string (no need to write px, just number should be fine)'"></app-help>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-6 editInput">
                                    Width: <input type="text"
                                                  [(ngModel)]="widget.settings[deviceType].additional_settings.width">
                                </div>
                                <div class="col-6 editInput">
                                    Height: <input type="text"
                                                   [(ngModel)]="widget.settings[deviceType].additional_settings.height">
                                </div>
                            </div>
                        </div>
                        <div class="settings--card" *ngIf="widget.widget_type.method === 'fixed'">
                            <div class="row">
                                <span class="col font-weight-bold">
                                    Position
                                </span>
                            </div>
                            <div class="row mt-2">
                                <div class="col-6">
                                    <app-dropdown [items]="positionSettings"
                                                  [class]="'classic default-border align-right'"
                                                  [title]="'Choose position property'"
                                                  [(currentValue)]="widget.settings[deviceType].additional_settings.fixedSettings.top">
                                    </app-dropdown>
                                </div>
                            </div>
                        </div>
                        <div class="settings--card">
                            <div class="settings--card--header">
                                <div class="row">
                                    <span class="col-12">
                                        Background
                                    </span>
                                </div>
                            </div>
                            <div class="settings--card--body">
                                <div class="row mt-2">
                                    <app-radio-button class="col-12"
                                                      [name]="'backgroundType'"
                                                      [radioButtons]="backgroundTypesButtons"
                                                      [(currentValue)]="widget.settings[deviceType].widget_settings.general.background.type"
                                                      [colClass]="'col'"></app-radio-button>
                                </div>
                                <div class="row"
                                     *ngIf="widget.settings[deviceType].widget_settings.general.background.type == backgroundTypes.image.value ||
                                      widget.settings[deviceType].widget_settings.general.background.type == backgroundTypes.imageOverlay.value">
                                    <app-dragAndDrop class="col-12"
                                                     (fileDataChange)="changeUploadedFile($event)"
                                                     [fileData]="widget.settings[deviceType].widget_settings.general.background.image">
                                    </app-dragAndDrop>
                                </div>
                                <div class="row"
                                     *ngIf="widget.settings[deviceType].widget_settings.general.background.type == backgroundTypes.color.value ||
                                       widget.settings[deviceType].widget_settings.general.background.type == backgroundTypes.imageOverlay.value">
                                    <div class="col-2 vertical-align">
                                        Color
                                    </div>
                                    <div class="col-6 color-picker--simple">
                                        <input
                                            [value]="widget.settings[deviceType].widget_settings.general.background.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].widget_settings.general.background.color"
                                            [cpPosition]="'bottom'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].widget_settings.general.background.color"/>
                                    </div>
                                    <div class="col-5 col-xxl-2 vertical-align">
                                        Opacity (%)
                                    </div>
                                    <div class="col-3 col-xxl-2 pt-2 pt-xxl-0">
                                        <app-inputNumber
                                            [(value)]="widget.settings[deviceType].widget_settings.general.background.opacity"
                                            [class]="'float-right'">
                                        </app-inputNumber>

                                    </div>
                                </div>
                            </div>
                            <div class="row pt-2">
                                <div class="col-2 vertical-align">
                                    Offsets
                                </div>
                                <div class="col-10">
                                    <app-input-group [buttons]="backgroundPadding"
                                                     (buttonChange)="widget.settings[deviceType].additional_settings.padding[$event.name] = $event.value">
                                    </app-input-group>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(6)}"
                     *ngIf="widget.widget_type.method === widgetTypes.fixed.name || widget.widget_type.method === widgetTypes.locked.name">
                    <div class="row collapsible--header" (click)="openTab(6)">
                        <div class="col-11">
                            WIDTHS
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(6)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(6)">
                        <div class="settings--card">
                            <div class="settings--card--body">
                                <div class="row">
                                    <div class="col-6 bold flex-center">
                                        Headline & Addtional texts [%]
                                    </div>
                                    <div class="col-6">
                                        <app-inputNumber type="text"
                                                         [(value)]="widget.settings[deviceType].additional_settings.textContainer.width">
                                        </app-inputNumber>
                                    </div>
                                    <div class="col-6 bold flex-center">
                                        Button [%]
                                    </div>
                                    <div class="col-6">
                                        <app-inputNumber type="text"
                                                         [(value)]="widget.settings[deviceType].additional_settings.buttonContainer.width">
                                        </app-inputNumber>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(2)}"
                     *ngIf="widget.widget_type.method !== widgetTypes.article.name && widget.widget_type.method !== widgetTypes.custom.name">
                    <div class="row collapsible--header" (click)="openTab(2)">
                        <div class="col-11">
                            HEADLINE
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(2)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(2)">
                        <div class="settings--card">
                            <span class="row">
                                <div class="col font-weight-bold">Headline text</div>
                            </span>
                            <div class="settings--card--body">
                                <div class="row editInput">
                                    <div class="col-12">
                                        <angular-editor id="angular-editor-headline-text"
                                                        class="angular-editor--withImage"
                                                        [(ngModel)]="widget.settings[deviceType].headline_text"
                                                        [config]="{uploadUrl: uploadUrl, placeholder: 'Write additional text here, please2', editable: true }"></angular-editor>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="settings--card">
                            <span class="row">
                                <div class="col font-weight-bold">Position</div>
                            </span>
                            <div class="row">
                                <div class="col-4 col-xxl-2 vertical-align">
                                    Alignment
                                </div>
                                <div class="col-8 col-xxl-2 vertical-align">
                                    <app-radio-button-group [class]="'full-width'"
                                                            [(currentValue)]="widget.settings[deviceType].widget_settings.general.fontSettings.alignment"
                                                            [radioButtons]="radioButtons">
                                    </app-radio-button-group>
                                </div>
                                <div class="col-2 vertical-align">
                                    Margin
                                </div>
                                <div class="col-10 col-xxl-6 pt-2 pt-xxl-0">
                                    <app-input-group [buttons]="marginText"
                                                     (buttonChange)="widget.settings[deviceType].widget_settings.general.text_margin[$event.name] = $event.value">
                                    </app-input-group>
                                </div>
                            </div>
                        </div>
                        <div class="settings--card">
                            <div class="settings--card--body">
                                <div class="row">
                                    <span class="col font-weight-bold">Design</span>
                                </div>
                                <div class="row">
                                    <div class="col-3 vertical-align">
                                        Font family
                                    </div>
                                    <div class="col-3 color-picker--simple">
                                        <app-dropdown [items]="fontFamilyDropdownButtons"
                                                      [class]="'classic default-border align-right'"
                                                      [title]="'Choose font'"
                                                      [customFonts]="true"
                                                      [(currentValue)]="widget.settings[deviceType].widget_settings.general.fontSettings.fontFamily">
                                        </app-dropdown>
                                    </div>
                                    <div class="col-3 vertical-align">
                                        Text color
                                    </div>
                                    <div class="col-3 color-picker--simple color-picker--fixed ">
                                        <input
                                            [value]="widget.settings[deviceType].widget_settings.general.fontSettings.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].widget_settings.general.fontSettings.color"
                                            [cpPosition]="'bottom'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].widget_settings.general.fontSettings.color"/>
                                    </div>
                                    <div class="col-3 vertical-align ">
                                        Size (px)
                                    </div>
                                    <div class="col-3">
                                        <app-inputNumber
                                            *ngIf="widget.settings[deviceType].additional_settings.textContainer.text.fontSize === undefined"
                                            [(value)]="widget.settings[deviceType].widget_settings.general.fontSettings.fontSize"
                                            [class]="'float-right'">
                                        </app-inputNumber>
                                        <app-inputNumber
                                            *ngIf="widget.settings[deviceType].additional_settings.textContainer.text.fontSize !== undefined"
                                            [(value)]="widget.settings[deviceType].additional_settings.textContainer.text.fontSize"
                                            [class]="'float-right'">
                                        </app-inputNumber>
                                    </div>
                                    <div class="col-3 vertical-align">
                                        Background color
                                    </div>
                                    <div class="col-3 color-picker--simple color-picker--fixed">
                                        <input
                                            [value]="widget.settings[deviceType].widget_settings.general.fontSettings.backgroundColor"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].widget_settings.general.fontSettings.backgroundColor"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].widget_settings.general.fontSettings.backgroundColor"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <app-widget-edit-additional-text
                    [title]="'ADDITIONAL TEXT'"
                    [widget]="widget"
                    [colors]="colors"
                    [deviceType]="deviceType"
                    [fontFamilyDropdownButtons]="fontFamilyDropdownButtons"
                    [additionalText]="widget.settings[deviceType].widget_settings.additional_text">
                </app-widget-edit-additional-text>
                <app-widget-edit-additional-text
                    [title]="'ADDITIONAL TEXT BOTTOM'"
                    [widget]="widget"
                    [colors]="colors"
                    [deviceType]="deviceType"
                    [fontFamilyDropdownButtons]="fontFamilyDropdownButtons"
                    [additionalText]="widget.settings[deviceType].widget_settings.additional_text_bottom">
                </app-widget-edit-additional-text>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(4)}"
                     *ngIf="widget.widget_type.method !== widgetTypes.article.name && widget.widget_type.method !== widgetTypes.custom.name">
                    <div class="row collapsible--header" (click)="openTab(4)">
                        <div class="col-11">
                            CALL TO ACTION BUTTON
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(4)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>
                    <div [ngbCollapse]="!isOpened(4)">
                        <div class="col-12">
                            <div class="row">
                                <div class="btn-group-vertical col-12 mb-3">
                                    <div class="btn-group" role="group" aria-label="Basic example">
                                        <button type="button"
                                                (click)="cta='Default'"
                                                [class]="(cta == 'Default') ? 'btn active' : 'btn'">
                                            Default
                                        </button>
                                        <button type="button" (click)="cta='Hover'"
                                                [class]="(cta == 'Hover') ? 'btn active' : 'btn'">Hover
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="settings--card--wrapper" *ngIf="cta=='Default'">
                            <div class="settings--card">
                                <div class="row">
                                    <span class="col font-weight-bold">Button text</span>
                                </div>
                                <div class="row editInput">
                                    <div class="col">
                                        <input #cta id="cta_button"
                                               placeholder="Please add text for button"
                                               [(ngModel)]="widget.settings[deviceType].cta.text"
                                               maxlength="60">
                                        <span class="actualLength">
                                           {{widget.settings[deviceType].cta.text ? widget.settings[deviceType].cta.text.length : 0}}
                                            / {{cta?.maxLength}}
                                         </span>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col">
                                        URL
                                    </div>
                                </div>
                                <div class="editInput row">
                                    <div class="col">
                                        <input #cta_url id="cta_url"
                                               placeholder="Please add url"
                                               [(ngModel)]="widget.settings[deviceType].cta.url"
                                               maxlength="2000">
                                        <span class="actualLength">
                                           {{widget.settings[deviceType].cta.url ? widget.settings[deviceType].cta.url.length : 0}}
                                            / {{cta_url?.maxLength}}
                                         </span>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col-12 bold">
                                        Button offsets
                                    </div>
                                    <div class="col-12 col-xxl-6">
                                        Inside
                                        <app-input-group [buttons]="paddingButtons"
                                                         (buttonChange)="widget.settings[this.deviceType].widget_settings.call_to_action.default.padding[$event.name] = $event.value">

                                        </app-input-group>
                                    </div>
                                    <div class="col-12 col-xxl-6 pt-3 pt-xxl-0">
                                        Outside
                                        <app-input-group [buttons]="marginButtons"
                                                         (buttonChange)="widget.settings[deviceType].widget_settings.call_to_action.default.margin[$event.name] = $event.value">
                                        </app-input-group>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col-6 bold">
                                        Button alignment
                                    </div>
                                    <div class="col-6 bold">
                                        Width
                                    </div>
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col-6 vertical-align">
                                            <app-radio-button-group [class]="'full-width'"
                                                                    [(currentValue)]="this.widget.settings[this.deviceType].widget_settings.call_to_action.default.fontSettings.alignment"
                                                                    [radioButtons]="radioButtons"
                                            >
                                            </app-radio-button-group>
                                        </div>
                                        <div class="col-6 editInput">
                                            <input #ctaWidth
                                                   placeholder="Width in % or px or auto"
                                                   [(ngModel)]="widget.settings[deviceType].widget_settings.call_to_action.default.width"
                                                   maxlength="120">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col-12 bold">
                                        Font settings
                                    </div>
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col vertical-align">
                                            Font Family
                                        </div>
                                        <div class="col vertical-align">
                                            <app-dropdown [items]="fontFamilyDropdownButtons"
                                                          [class]="'classic default-border align-right'"
                                                          [title]="'Choose font'"
                                                          [customFonts]="true"
                                                          [(currentValue)]="widget.settings[deviceType].widget_settings.call_to_action.default.fontSettings.fontFamily">
                                            </app-dropdown>
                                        </div>
                                        <div class="col vertical-align">
                                            Font weight
                                        </div>
                                        <div class="col">
                                            <app-dropdown [items]="fontWeight"
                                                          [class]="'classic default-border align-right'"
                                                          [title]="'weight'"
                                                          [(currentValue)]="widget.settings[deviceType].widget_settings.call_to_action.default.fontSettings.fontWeight">
                                            </app-dropdown>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col vertical-align">
                                            Color
                                        </div>
                                        <div class="col">
                                            <input
                                                [value]="widget.settings[deviceType].widget_settings.call_to_action.default.fontSettings.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].widget_settings.call_to_action.default.fontSettings.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.default.fontSettings.color"/>
                                        </div>
                                        <div class="col vertical-align">
                                            Size (px)
                                        </div>
                                        <div class="col">
                                            <app-inputNumber
                                                [(value)]="widget.settings[deviceType].widget_settings.call_to_action.default.fontSettings.fontSize"
                                                [class]="'float-right'">
                                            </app-inputNumber>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">
                                        Design
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Fill'"
                                                      [(checked)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.fill.active">
                                        </app-checkbox>
                                    </div>
                                    <div class="col-4"
                                         *ngIf="widget.settings[deviceType].widget_settings.call_to_action.default.design.fill.active">
                                        <input
                                            [value]="widget.settings[deviceType].widget_settings.call_to_action.default.design.fill.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].widget_settings.call_to_action.default.design.fill.color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.fill.color"/>
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Border'"
                                                      [(checked)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.border.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].widget_settings.call_to_action.default.design.border.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].widget_settings.call_to_action.default.design.border.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].widget_settings.call_to_action.default.design.border.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.border.color"/>
                                        </div>
                                        <div class="col-2 offset-1 vertical-align">
                                            Size (px)
                                        </div>
                                        <div class="col-2">
                                            <app-inputNumber [class]="'float-right'"
                                                             [(value)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.border.size"></app-inputNumber>
                                        </div>
                                    </ng-container>
                                </div>

                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Shadow'"
                                                      [(checked)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.shadow.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].widget_settings.call_to_action.default.design.shadow.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].widget_settings.call_to_action.default.design.shadow.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].widget_settings.call_to_action.default.design.shadow.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.shadow.color"/>
                                        </div>
                                        <div class="col-5 vertical-align">
                                            <app-input-group [buttons]="shadowButtons"
                                                             (buttonChange)="widget.settings[deviceType].widget_settings.call_to_action.default.design.shadow[$event.name] = $event.value">
                                            </app-input-group>
                                        </div>
                                    </ng-container>
                                </div>

                            </div>
                            <div class="settings--card">
                                <div class="settings--card--header">
                                    <div class="row ">
                                        <div class="col">
                                            Radius
                                        </div>
                                    </div>
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col-3 vertical-align">
                                            <app-radio-button-group
                                                [(currentValue)]="widget.settings[deviceType].widget_settings.call_to_action.default.design.radius.active"
                                                [radioButtons]="radiusButtons">
                                            </app-radio-button-group>
                                        </div>
                                        <ng-container
                                            *ngIf="widget.settings[deviceType].widget_settings.call_to_action.default.design.radius.active">
                                            <div class="col-3 vertical-align">
                                                <app-input-group [buttons]="allRadiusesButton"
                                                                 (buttonChange)="writeRadiusValue($event.value)"
                                                                 [fill]="true"
                                                                 [class]="!specificRadius?'active':''"
                                                                 (click)="setSpecificRadius(false)">
                                                </app-input-group>
                                            </div>
                                            <div class="col-6">
                                                <div class="row">
                                                    <div class="col-2 vertical-align text-right">
                                                        or
                                                    </div>
                                                    <div class="col-10">
                                                        <app-input-group [buttons]="specificRadiusButtons"
                                                                         (buttonChange)="widget.settings[deviceType].widget_settings.call_to_action.default.design.radius[$event.name] = $event.value"
                                                                         [fill]="true"
                                                                         [class]="specificRadius?'active':''"
                                                                         (click)="setSpecificRadius(true)">
                                                        </app-input-group>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="settings--card--wrapper" *ngIf="cta=='Hover'">
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">Hover font settings</div>
                                </div>
                                <div class="row">
                                    <div class="col-2 vertical-align">
                                        Font weight
                                    </div>
                                    <div class="col-4">
                                        <app-dropdown [class]="'classic default-border'"
                                                      [title]="'Choose font weight'"
                                                      [items]="fontWeight"
                                                      [(currentValue)]="widget.settings[deviceType].widget_settings.call_to_action.hover.fontSettings.fontWeight">
                                        </app-dropdown>
                                    </div>
                                    <div class="col-2 vertical-align">
                                        Color
                                    </div>
                                    <div class="col-4 color-picker--simple">
                                        <input
                                            [value]="widget.settings[deviceType].widget_settings.call_to_action.hover.fontSettings.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].widget_settings.call_to_action.hover.fontSettings.color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.hover.fontSettings.color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">
                                        Design
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Fill'"
                                                      [(checked)]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.fill.active">
                                        </app-checkbox>
                                    </div>
                                    <div class="col-4"
                                         *ngIf="widget.settings[deviceType].widget_settings.call_to_action.hover.design.fill.active">
                                        <input
                                            [value]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.fill.color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.fill.color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.fill.color"/>
                                    </div>
                                </div>
                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Border'"
                                                      [(checked)]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.border.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].widget_settings.call_to_action.hover.design.border.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.border.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.border.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.border.color"/>
                                        </div>
                                        <div class="col-2 offset-1 vertical-align">
                                            Size (px)
                                        </div>
                                        <div class="col-2">
                                            <app-inputNumber [class]="'float-right'"
                                                             [(value)]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.border.size"></app-inputNumber>
                                        </div>
                                    </ng-container>
                                </div>

                                <div class="row pt-1 pb-1">
                                    <div class="col-3">
                                        <app-checkbox [name]="'Shadow'"
                                                      [(checked)]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.shadow.active">
                                        </app-checkbox>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].widget_settings.call_to_action.hover.design.shadow.active">
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.shadow.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.shadow.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].widget_settings.call_to_action.hover.design.shadow.color"/>
                                        </div>
                                        <div class="col-5 vertical-align">
                                            <app-input-group [buttons]="shadowButtons"
                                                             (buttonChange)="widget.settings[deviceType].widget_settings.call_to_action.hover.design.shadow[$event.name] = $event.value">
                                            </app-input-group>
                                        </div>
                                    </ng-container>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(13)}"
                     *ngIf="widget.widget_type.method == widgetTypes.fixed.name ||
                      widget.widget_type.method == widgetTypes.popup.name">
                    <div class="row collapsible--header" (click)="openTab(13)">
                        <div class="col-11">
                            CLOSE BUTTON
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(13)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(13)">
                        <div class="settings--card">
                            <div class="settings--card--body">
                                <div class="row">
                                    <div class="col font-weight-bold">
                                        Text
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <angular-editor id="angular-editor-text" class="angular-editor"
                                                        [(ngModel)]="widget.settings[deviceType].widget_settings.close_text"
                                                        [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6 col-md-4 vertical-align">
                                        <span>Top offset</span>
                                        <app-help class="position-relative pl-3"
                                                  [text]="'Type 12px for specific top offset or calc(50% - 10px) to center in the middle'">
                                        </app-help>
                                    </div>
                                    <div class="col-6 col-md-4 vertical-align">Color</div>
                                    <div class="col-6 col-md-4 vertical-align">Font size [px]</div>
                                </div>
                                <div class="row">
                                    <div class="col-6 col-md-4 editInput ">
                                        <input class="h-100" type="text"
                                               [(ngModel)]="widget.settings[deviceType].widget_settings.close_top">
                                    </div>
                                    <div class="col-6 col-md-4 color-picker--simple color-picker--fixed">
                                        <input
                                            [value]="widget.settings[deviceType].widget_settings.close_color"
                                            class="btn h-100 color-picker--custom"
                                            [style.background]="widget.settings[deviceType].widget_settings.close_color"
                                            [cpPosition]="'bottom'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].widget_settings.close_color"/>
                                    </div>
                                    <div class="col-6 col-md-4">
                                        <app-inputNumber [class]="'float-right'"
                                                         [(value)]="widget.settings[deviceType].widget_settings.close_font_size"></app-inputNumber>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(5)}"
                     *ngIf="widget.widget_type.method !== widgetTypes.article.name && widget.widget_type.method !== widgetTypes.custom.name">
                    <div class="row collapsible--header" (click)="openTab(5)">
                        <div class="col-11">
                            MONETIZATION
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(5)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>

                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(5)">
                        <div class="settings--card">
                            <div class="row">
                                <app-checkbox class="col"
                                              [(checked)]="widget.settings[deviceType].payment_settings.active"
                                              [name]="'Widget with monetization'"
                                              disabled
                                ></app-checkbox>
                            </div>
                        </div>
                        <div class="settings--card"
                             *ngIf="widget.settings[deviceType].payment_settings.active && widget.widget_type.method !== 'leaderboard'">
                            <div class="row">
                                <div class="col-12">
                                    <div class="settings--card--header">
                                        Monetization design options
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-6">
                                    <app-checkbox
                                        [(checked)]="widget.settings[deviceType].payment_settings.design.shadowBox"
                                        [name]="'Show shadow on monetization box'"></app-checkbox>
                                </div>
                                <div class="col-6">
                                    <app-checkbox
                                        [(checked)]="widget.settings[deviceType].payment_settings.design.stepsPanel"
                                        [name]="'Show steps panel'"></app-checkbox>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-12 bold">
                                    <div class="settings--card--header">
                                        Monetization title
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col-12 bold">
                                            <div class="settings--card--header">
                                                Text
                                            </div>
                                        </div>
                                        <div class="col-12 mt-2">
                                            <angular-editor id="angular-editor-monetization-title"
                                                            class="angular-editor--simple"
                                                            [(ngModel)]="widget.settings[deviceType].payment_settings.monetization_title.text"
                                                            [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col font-weight-bold">Position</div>
                                    </div>
                                    <div class="row">
                                        <div class="col-4 col-xxl-2 vertical-align">
                                            Alignment
                                        </div>
                                        <div class="col-8 col-xxl-2 vertical-align">
                                            <app-radio-button-group [class]="'full-width'"
                                                                    [(currentValue)]="widget.settings[deviceType].payment_settings.monetization_title.alignment"
                                                                    [radioButtons]="radioButtons">
                                            </app-radio-button-group>
                                        </div>
                                        <div class="col-2 vertical-align">
                                            Margin
                                        </div>
                                        <div class="col-10 col-xxl-6 pt-2 pt-xxl-0">
                                            <app-input-group [buttons]="marginMonetizationHeadlineText"
                                                             (buttonChange)="widget.settings[deviceType].payment_settings.monetization_title.margin[$event.name] = $event.value">
                                            </app-input-group>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="settings--card--body">
                                    <div class="row">
                                        <span class="col font-weight-bold">Design</span>
                                    </div>
                                    <div class="row">
                                        <div class="col-3 vertical-align">
                                            Font family
                                        </div>
                                        <div class="col-3 color-picker--simple">
                                            <app-dropdown [items]="fontFamilyDropdownButtons"
                                                          [class]="'classic default-border align-right'"
                                                          [title]="'Choose font'"
                                                          [customFonts]="true"
                                                          [(currentValue)]="widget.settings[deviceType].payment_settings.monetization_title.fontSettings.fontFamily">
                                            </app-dropdown>
                                        </div>
                                        <div class="col-3 vertical-align">
                                            Text color
                                        </div>
                                        <div class="col-3 color-picker--simple color-picker--fixed ">
                                            <input
                                                [value]="widget.settings[deviceType].payment_settings.monetization_title.textColor"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].payment_settings.monetization_title.textColor"
                                                [cpPosition]="'bottom'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].payment_settings.monetization_title.textColor"/>
                                        </div>
                                        <div class="col-3 vertical-align ">
                                            Size (px)
                                        </div>
                                        <div class="col-3">
                                            <app-inputNumber
                                                [(value)]="widget.settings[deviceType].payment_settings.monetization_title.fontSettings.fontSize"
                                                [class]="'float-right'">
                                            </app-inputNumber>
                                        </div>
                                        <div class="col-3 vertical-align">
                                            Background color
                                        </div>
                                        <div class="col-3 color-picker--simple color-picker--fixed">
                                            <input
                                                [value]="widget.settings[deviceType].payment_settings.monetization_title.fontSettings.backgroundColor"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].payment_settings.monetization_title.fontSettings.backgroundColor"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].payment_settings.monetization_title.fontSettings.backgroundColor"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-container *ngIf="widget.settings[deviceType].payment_settings.active">
                            <div class="settings--card">
                                <div class="settings--card--header">
                                    Monetization type
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col-12">
                                            <app-dropdown class="classic"
                                                          [class]="'classic mr15'"
                                                          [items]="monetizationTypes"
                                                          [title]="'Choose design'"
                                                          [(currentValue)]="widget.settings[deviceType].payment_settings.type">
                                            </app-dropdown>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="settings--card--header">
                                    Design
                                </div>
                                <div class="settings--card--body">
                                    <div class="row">
                                        <div class="col-6 editInput">
                                            Width:
                                            <input #campaignName id="monetization-width"
                                                   placeholder="Width in % or px"
                                                   [(ngModel)]="widget.settings[deviceType].payment_settings.design.width"
                                                   maxlength="120">
                                        </div>
                                        <div class="col-6 editInput">
                                            Height:
                                            <input #campaignName id="monetization-height"
                                                   placeholder="Height in % or px" Design
                                                   [(ngModel)]="widget.settings[deviceType].payment_settings.design.height"
                                                   maxlength="120">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3 vertical-align">
                                            Background color
                                        </div>
                                        <div class="col-3 color-picker--simple">
                                            <input
                                                [value]="widget.settings[deviceType].payment_settings.design.background_color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].payment_settings.design.background_color"
                                                [cpPosition]="'bottom'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].payment_settings.design.background_color"/>
                                        </div>
                                        <div class="col-3 vertical-align">
                                            Text color
                                        </div>
                                        <div class="col-3 color-picker--simple col-3 color-picker--fixed">
                                            <input
                                                [value]="widget.settings[deviceType].payment_settings.design.text_color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].payment_settings.design.text_color"
                                                [cpPosition]="'bottom'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].payment_settings.design.text_color"/>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            Inside offsets
                                        </div>
                                        <div class="col-12">
                                            <app-input-group [buttons]="paddingMonetization"
                                                             (buttonChange)="widget.settings[deviceType].payment_settings.design.padding[$event.name] = $event.value">
                                            </app-input-group>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            Outside offsets
                                        </div>
                                        <div class="col-12">
                                            <app-input-group [buttons]="marginMonetization"
                                                             (buttonChange)="widget.settings[deviceType].payment_settings.design.margin[$event.name] = $event.value">
                                            </app-input-group>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--container containing payment frequency options-->
                            <ng-container
                                *ngIf="widget.settings[deviceType].payment_settings.type != monetizationTypesEnums.column.type; else columnsContainer">
                                <div class="settings--card"
                                     *ngIf="widget.settings[deviceType].payment_settings.type !== 'row'">
                                    <div class="row">
                                        <div class="col-12 bold">
                                            Payment type
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 mt-3">
                                            <app-radio-button
                                                [name]="'paymentType'"
                                                [radioButtons]="paymentTypeRadioButtons"
                                                [(currentValue)]="widget.settings[deviceType].payment_settings.payment_type"
                                                [colClass]="'col'"></app-radio-button>
                                        </div>
                                    </div>
                                    <ng-container
                                        *ngIf="widget.settings[deviceType].payment_settings.payment_type != paymentTypes.monthly.value &&
                                    widget.settings[deviceType].payment_settings.type == 'lite'">
                                        <div class="row mt-3">
                                            <div class="col-12 bold">
                                                Default payment method
                                            </div>
                                        </div>
                                        <div class="row">
                                            <app-dropdown class="classic col"
                                                          [class]="'classic mr15'"
                                                          [items]="paymentMethodsDropdown"
                                                          [title]="'Choose default payment method'"
                                                          [(currentValue)]="widget.settings[deviceType].payment_settings.payment_method"
                                            ></app-dropdown>
                                        </div>
                                    </ng-container>
                                </div>
                                <div class="settings--card"
                                     *ngIf="widget.settings[deviceType].payment_settings.type !== 'row'">
                                    <div class="row">
                                        <div class="col-12 bold">
                                            Currency in price options
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 mt-3">
                                            <input class="w-100" type="text"
                                                   [(ngModel)]="widget.settings[deviceType].payment_settings.currency"
                                                   placeholder="Please, type currency symbol">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 mt-3">
                                            <app-radio-button
                                                [name]="'currencyOptions'"
                                                [radioButtons]="currencyOptionseRadioButtons"
                                                [(currentValue)]="widget.settings[deviceType].payment_settings.currencyInPriceOptions"
                                                [colClass]="'col'"></app-radio-button>
                                        </div>
                                    </div>
                                </div>
                                <ng-container *ngIf="widget.settings[deviceType].payment_settings.payment_type==paymentTypes.monthly.value ||
                                                        widget.settings[deviceType].payment_settings.payment_type==paymentTypes.both.value">
                                    <div class="settings--card">
                                        <div class="settings--card--header row">
                                            <div class="col">
                                                Monthly prices
                                            </div>
                                        </div>
                                        <div class="settings--card--body">
                                            <div class="row">
                                                <div class="col-2 vertical-align">
                                                    Price options
                                                </div>
                                                <div class="col-2">
                                                    <app-inputNumber
                                                        [value]="widget.settings[deviceType].payment_settings.monthly_prices.count_of_options"
                                                        (valueChange)="updateNumberOfMonthlyPrices($event)">
                                                    </app-inputNumber>
                                                </div>
                                                <ng-container
                                                    *ngIf="widget.settings[deviceType].payment_settings.type !== 'row'">
                                                    <div class="col-2 vertical-align">
                                                        Options in row
                                                    </div>
                                                    <div class="col-2">
                                                        <app-inputNumber
                                                            [(value)]="widget.settings[deviceType].payment_settings.monthly_prices.count_of_options_in_row">
                                                        </app-inputNumber>
                                                    </div>
                                                </ng-container>
                                                <div class="col-4 pull-right"
                                                     [ngClass]="{'offset-4':widget.settings[deviceType].payment_settings.type === 'row'}">
                                                    <app-checkbox
                                                        [(checked)]="widget.settings[deviceType].payment_settings.monthly_prices.custom_price"
                                                        [name]="'Custom price option'"></app-checkbox>
                                                </div>
                                            </div>
                                            <!--basic settings-->
                                            <div class="row"
                                                 *ngIf="widget.settings[deviceType].payment_settings.type !== 'row'">
                                                <ng-container
                                                    *ngFor="let option of widget.settings[deviceType].payment_settings.monthly_prices.options; let i = index">
                                                    <div class="col-6 pt-3 col-xxl-4">
                                                        <div class="row">
                                                            <div class="col-6 vertical-align">
                                                                Price No.{{i + 1}}
                                                            </div>
                                                            <div class="col-6">
                                                                <app-inputNumber [(value)]="option.value">
                                                                </app-inputNumber>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <!--advanced settings-->
                                            <ng-container
                                                *ngIf="widget.settings[deviceType].payment_settings.type === 'row'">
                                                <div class="settings--card"
                                                     *ngFor="let option of widget.settings[deviceType].payment_settings.monthly_prices.options; let i = index">
                                                    <div class="settings--card--body">
                                                        <div class="row">
                                                            <div class="col-6 vertical-align">
                                                                Price No.{{i + 1}}
                                                            </div>
                                                            <div class="col-6">
                                                                <app-inputNumber [(value)]="option.value">
                                                                </app-inputNumber>
                                                            </div>
                                                            <div class="col-12 vertical-align">
                                                                Title
                                                            </div>
                                                            <div class="col-12 vertical-align">
                                                                <angular-editor id="angular-editor-option-{i}"
                                                                                class="angular-editor--simple"
                                                                                [(ngModel)]="option.title"
                                                                                [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                                            </div>
                                                            <div class="col-12 vertical-align">
                                                                Description
                                                            </div>
                                                            <div class="col-12 vertical-align">
                                                                <angular-editor id="angular-editor-description-{i}"
                                                                                class="angular-editor--halfSimple"
                                                                                [(ngModel)]="option.description"
                                                                                [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <hr>
                                            <div class="row">
                                                <div class="col-10 bold">
                                                    Benefit
                                                </div>
                                                <app-switcher class="col-2 text-right"
                                                              [(checked)]="widget.settings[deviceType].payment_settings.monthly_prices.benefit.active"></app-switcher>
                                                <div class="col-12">
                                                    <angular-editor id="angular-editor-benefit-monthly"
                                                                    class="angular-editor--simple"
                                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.monthly_prices.benefit.text"
                                                                    [config]="{placeholder: 'Write additional text here, please', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                                </div>
                                                <div class="col-6 vertical-align">
                                                    Min. donation for benefit
                                                </div>
                                                <div class="col-6">
                                                    <app-inputNumber
                                                        [(value)]="widget.settings[deviceType].payment_settings.monthly_prices.benefit.value"
                                                        [disabled]="!widget.settings[deviceType].payment_settings.monthly_prices.benefit.active"></app-inputNumber>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="widget.settings[deviceType].payment_settings.payment_type==paymentTypes.once.value ||
                                                     widget.settings[deviceType].payment_settings.payment_type==paymentTypes.both.value">
                                    <div class="settings--card">
                                        <div class="settings--card--header">
                                            <div class="row">
                                                <div class="col">
                                                    Single payment
                                                </div>
                                            </div>
                                        </div>
                                        <div class="settings--card--body">
                                            <div class="row">
                                                <div
                                                    *ngIf="widget.settings[deviceType].payment_settings.payment_type != paymentTypes.once.value"
                                                    class="col pt-2">
                                                    <app-checkbox [name]="'Copy prices from monthly prices'"
                                                                  [(checked)]="copyPrices">
                                                    </app-checkbox>
                                                </div>
                                            </div>
                                            <ng-container *ngIf="!copyPrices">
                                                <div class="row">
                                                    <div class="col-2 vertical-align">
                                                        Price options
                                                    </div>
                                                    <div class="col-2">
                                                        <app-inputNumber
                                                            [value]="widget.settings[deviceType].payment_settings.once_prices.count_of_options"
                                                            (valueChange)="updateNumberOfSinglePayments($event)">
                                                        </app-inputNumber>
                                                    </div>
                                                    <div class="col-2 vertical-align">
                                                        Options in row
                                                    </div>
                                                    <div class="col-2">
                                                        <app-inputNumber
                                                            [(value)]="widget.settings[deviceType].payment_settings.once_prices.count_of_options_in_row">
                                                        </app-inputNumber>
                                                    </div>
                                                    <div class="col-4 pull-right">
                                                        <app-checkbox
                                                            [(checked)]="widget.settings[deviceType].payment_settings.once_prices.custom_price"
                                                            [name]="'Custom price option'"></app-checkbox>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <ng-container
                                                        *ngFor="let option of widget.settings[deviceType].payment_settings.once_prices.options; let i = index">
                                                        <div class="col-6 pt-3 col-xxl-4">
                                                            <div class="row">
                                                                <div class="col-6 vertical-align">
                                                                    Price No.{{i + 1}}
                                                                </div>
                                                                <div class="col-6 ">
                                                                    <app-inputNumber [(value)]="option.value">
                                                                    </app-inputNumber>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-10 bold">
                                                        Benefit
                                                    </div>
                                                    <app-switcher class="col-2 text-right"
                                                                  [(checked)]="widget.settings[deviceType].payment_settings.once_prices.benefit.active"></app-switcher>
                                                    <div class="col-12">
                                                        <angular-editor id="angular-editor-benefit-one-time"
                                                                        class="angular-editor--withImage"
                                                                        [(ngModel)]="widget.settings[deviceType].payment_settings.once_prices.benefit.text"
                                                                        [config]="{placeholder: 'Write additional text here, please', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                                    </div>
                                                    <div class="col-6 vertical-align">
                                                        Min. donation for benefit
                                                    </div>
                                                    <div class="col-6">
                                                        <app-inputNumber
                                                            [(value)]="widget.settings[deviceType].payment_settings.once_prices.benefit.value"
                                                            [disabled]="!widget.settings[deviceType].payment_settings.once_prices.benefit.active"></app-inputNumber>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                            <ng-template #columnsContainer>
                                <div class="settings--card">
                                    <div class="settings--card--header">
                                        Benefits
                                    </div>
                                    <div class="settings--card--body">
                                        <p-orderList
                                            [value]="widget.settings[deviceType].payment_settings.monthly_prices.benefits">
                                            <ng-template let-benefit let-i="index" pTemplate="item">
                                                <div class="col-12">
                                                    <div class="row">
                                                        <div class="col-10 col-xxl-2 order-0">
                                                            Benefit (id {{benefit.id}}):
                                                        </div>
                                                        <div class="col-12 col-xxl-9 order-2">
                                                            <angular-editor
                                                                id="angular-editor-benefits-monthly-{{benefit.id}}"
                                                                class="angular-editor--withImage"
                                                                [(ngModel)]="benefit.text"
                                                                (ngModelChange)="updateBenefit(benefit, $event)"
                                                                [config]="{placeholder: 'Write additional text here, please', editable: true, uploadUrl: uploadUrl}">
                                                            </angular-editor>
                                                        </div>
                                                        <div class="col-2 col-xxl-1 order-1 order-xxl-3">
                                                        <span
                                                            class="add-button vertical-align hoverable hoverable--danger"
                                                            title="Delete benefit"
                                                            [inlineSVG]="'/assets/images/icons/delete.svg'"
                                                            [removeSVGAttributes]="['fill']"
                                                            (click)="deleteBenefit(benefit)">
                                                         </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </p-orderList>
                                        <div class="offset-11 col-1">
                                            <span class="add-button vertical-align hoverable" title="Add new benefit"
                                                  [inlineSVG]="'/assets/images/icons/add.svg'"
                                                  [removeSVGAttributes]="['fill']"
                                                  (click)="addNewBenefit()">
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="settings--card">
                                    <div class="settings--card--header">
                                        Columns
                                    </div>
                                    <div class="settings--card--body">
                                        <div class="row">
                                            <div class="col-6 col-xl-3 vertical-align">
                                                Count
                                            </div>
                                            <div class="col-6 col-xl-3">
                                                <app-inputNumber
                                                    [value]="widget.settings[deviceType].payment_settings.monthly_prices.columns_count"
                                                    (valueChange)="updateColumnsCount($event)">
                                                </app-inputNumber>
                                            </div>
                                        </div>
                                        <div
                                            *ngFor="let column of widget.settings[deviceType].payment_settings.monthly_prices.columns; let i=index"
                                            class="settings--card">
                                            <div class="settings--card--header">
                                                <div class="row">
                                                    <div class="col-12">
                                                        No.{{i + 1}}: {{column.title}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="settings--card--body">
                                                <div class="row">
                                                    <div class="col-8 bold">
                                                        Header
                                                    </div>
                                                    <div class="col-2 text-right">
                                                        on/off
                                                    </div>
                                                    <div class="col-2">
                                                        <app-switcher class="float-right"
                                                                      [(checked)]="column.header.enable">
                                                        </app-switcher>
                                                    </div>
                                                    <div class="col-12">
                                                        <angular-editor id="angular-editor-column-header-{{i}}"
                                                                        class="angular-editor--simple"
                                                                        [(ngModel)]="column.header.text"
                                                                        [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}">
                                                        </angular-editor>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-3 vertical-align">
                                                        Color - text
                                                    </div>
                                                    <div class="col-3">
                                                        <input
                                                            [value]="column.header.color"
                                                            class="btn color-picker--custom"
                                                            [style.background]="column.header.color"
                                                            [cpPosition]="'top'"
                                                            [cpPresetColors]="colors"
                                                            [(colorPicker)]="column.header.color"/>
                                                    </div>
                                                    <div class="col-3 vertical-align">
                                                        Color - background
                                                    </div>
                                                    <div class="col-3">
                                                        <input
                                                            [value]="column.header.background_color"
                                                            class="btn color-picker--custom"
                                                            [style.background]="column.header.background_color"
                                                            [cpPosition]="'top'"
                                                            [cpPresetColors]="colors"
                                                            [(colorPicker)]="column.header.background_color"/>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12 bold">
                                                        Title
                                                    </div>
                                                    <div class="col-12">
                                                        <angular-editor id="angular-editor-title-benefits"
                                                                        class="angular-editor--simple"
                                                                        [(ngModel)]="column.title"
                                                                        [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}">
                                                        </angular-editor>
                                                    </div>
                                                    <div class="col-12 bold">
                                                        Show benefits
                                                    </div>
                                                    <div class="col-12 bold">
                                                        <ng-select class="ng-select--custom"
                                                                   [multiple]="true"
                                                                   [items]="getBenefits(column)"
                                                                   [(ngModel)]="column.show_benefits"
                                                                   (ngModelChange)="updateActiveItems(column)"
                                                                   placeholder="No benefit selected">
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-12 bold">
                                                        Active benefits
                                                    </div>
                                                    <div class="col-12 bold">
                                                        <ng-select class="ng-select--custom"
                                                                   [multiple]="true"
                                                                   [items]="getShowBenefits(column)"
                                                                   [(ngModel)]="column.active_benefits"
                                                                   placeholder="No benefit selected">
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="settings--card--header">
                                                <div class="row">
                                                    <div class="col-12">
                                                        Prices
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="settings--card--body">
                                                <div class="row">
                                                    <div class="col-2 vertical-align">
                                                        Price options
                                                    </div>
                                                    <div class="col-2">
                                                        <app-inputNumber
                                                            [value]="column.count_of_options"
                                                            (valueChange)="updateNumberOfMonthlyPricesInColumn($event,column)">
                                                        </app-inputNumber>
                                                    </div>

                                                    <div class="col-2 vertical-align">
                                                        Options in row
                                                    </div>
                                                    <div class="col-2">
                                                        <app-inputNumber
                                                            [(value)]="column.count_of_options_in_row">
                                                        </app-inputNumber>
                                                    </div>
                                                    <div class="col-4 pull-right">
                                                        <app-checkbox
                                                            [(checked)]="column.custom_price"
                                                            [name]="'Custom price option'"></app-checkbox>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div *ngFor="let option of column.options; let i = index"
                                                         class="col-6 pt-3 col-xxl-4">
                                                        <div class="row">
                                                            <div class="col-6 vertical-align">
                                                                Price No.{{i + 1}}
                                                            </div>
                                                            <div class="col-6">
                                                                <app-inputNumber [(value)]="option.value">
                                                                </app-inputNumber>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">
                                        Not active price design
                                    </div>
                                </div>
                                <div class="row pt-2">
                                    <div class="col bold">
                                        Colors
                                    </div>
                                </div>
                                <div class="row pt-2">
                                    <div class="col-2 vertical-align">
                                        Background
                                    </div>
                                    <div class="col-4">
                                        <input
                                            [value]="widget.settings[deviceType].payment_settings.price_background_color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].payment_settings.price_background_color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].payment_settings.price_background_color"/>
                                    </div>
                                    <div class="col-2 vertical-align">
                                        Font
                                    </div>
                                    <div class="col-4">
                                        <input
                                            [value]="widget.settings[deviceType].payment_settings.price_text_color"
                                            class="btn color-picker--custom"
                                            [style.background]="widget.settings[deviceType].payment_settings.price_text_color"
                                            [cpPosition]="'top'"
                                            [cpPresetColors]="colors"
                                            [(colorPicker)]="widget.settings[deviceType].payment_settings.price_text_color"/>
                                    </div>
                                </div>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">
                                        Active price design
                                    </div>
                                </div>
                                <ng-container
                                    *ngIf="widget.settings[deviceType].payment_settings.type !== monetizationTypesEnums.column.type; else columnDefaultActiveButton">
                                    <div class="row pt-2">
                                        <app-checkbox class="col"
                                                      [name]="'Set monthly default active price'"
                                                      [(checked)]="widget.settings[deviceType].payment_settings.default_price.monthly_active">
                                        </app-checkbox>
                                    </div>
                                    <div
                                        *ngIf="widget.settings[deviceType].payment_settings.default_price.monthly_active"
                                        class="row pt-2">
                                        <app-dropdown class="classic col"
                                                      [class]="'classic mr15'"
                                                      [items]="createActivePriceOptionsMonthly()"
                                                      [title]="'Choose default price'"
                                                      [(currentValue)]="widget.settings[deviceType].payment_settings.default_price.monthly_value"
                                        ></app-dropdown>
                                    </div>

                                    <div class="row pt-2">
                                        <app-checkbox class="col"
                                                      [name]="'Set one time default active price'"
                                                      [(checked)]="widget.settings[deviceType].payment_settings.default_price.one_time_active">
                                        </app-checkbox>
                                    </div>
                                    <div
                                        *ngIf="widget.settings[deviceType].payment_settings.default_price.one_time_active"
                                        class="row pt-2">
                                        <app-dropdown class="classic col"
                                                      [class]="'classic mr15'"
                                                      [items]="createActivePriceOptionsOneTime()"
                                                      [title]="'Choose default price'"
                                                      [(currentValue)]="widget.settings[deviceType].payment_settings.default_price.one_time_value"
                                        ></app-dropdown>
                                    </div>
                                </ng-container>
                                <ng-template #columnDefaultActiveButton>
                                    <div class="row pt-2">
                                        <app-checkbox class="col"
                                                      [name]="'Set default active price'"
                                                      [(checked)]="widget.settings[deviceType].payment_settings.default_price.monthly_active">
                                        </app-checkbox>
                                    </div>
                                    <div
                                        *ngIf="widget.settings[deviceType].payment_settings.default_price.monthly_active"
                                        class="row pt-2">
                                        <app-dropdown class="classic col"
                                                      [class]="'classic mr15'"
                                                      [items]="createActivePriceOptionsColumnMonthly()"
                                                      [title]="'Choose default price'"
                                                      [(currentValue)]="widget.settings[deviceType].payment_settings.default_price.monthly_value"
                                        ></app-dropdown>
                                    </div>
                                </ng-template>
                                <ng-container *ngIf="widget.settings[deviceType].payment_settings.default_price.monthly_active ||
                                 widget.settings[deviceType].payment_settings.default_price.one_time_active">
                                    <div class="row pt-2">
                                        <div class="col bold">
                                            Colors
                                        </div>
                                    </div>
                                    <div class="row pt-2">
                                        <div class="col-2 vertical-align">
                                            Background
                                        </div>
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].payment_settings.default_price.styles.background"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].payment_settings.default_price.styles.background"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].payment_settings.default_price.styles.background"/>
                                        </div>
                                        <div class="col-2 vertical-align">
                                            Font
                                        </div>
                                        <div class="col-4">
                                            <input
                                                [value]="widget.settings[deviceType].payment_settings.default_price.styles.color"
                                                class="btn color-picker--custom"
                                                [style.background]="widget.settings[deviceType].payment_settings.default_price.styles.color"
                                                [cpPosition]="'top'"
                                                [cpPresetColors]="colors"
                                                [(colorPicker)]="widget.settings[deviceType].payment_settings.default_price.styles.color"/>
                                        </div>
                                    </div>
                                    <!--  <div class="row mt-3 bold">
                                          <div class="col-12">Email</div>
                                          <div class="col-12">
                                              <app-switcher
                                                      [(checked)]="widget.settings[deviceType].email_settings.active"></app-switcher>
                                          </div>
                                          <div class="col-12 faded"
                                               *ngIf="widget.settings[deviceType].email_settings.active">
                                              {{widget.settings[deviceType].email_settings.subscribe_text}}
                                          </div>
                                      </div>-->
                                    <!--<div class="row mt-3">-->
                                    <!--<div class="col-12 bold">Monetization text-->
                                    <!--<app-switcher class="float-right" [id]="'additional'"-->
                                    <!--[(checked)]="widget.settings[deviceType].additional_text.active"></app-switcher>-->
                                    <!--</div>-->
                                    <!--</div>-->
                                    <!--<div class="row"-->
                                    <!--*ngIf="widget.settings[deviceType].additional_text.active">-->
                                    <!--<div class="col">-->
                                    <!--<angular-editor id="angular-editor-" class="angular-editor--simple"-->
                                    <!--[(ngModel)]="widget.settings[deviceType].additional_text.text"></angular-editor>-->
                                    <!--</div>-->
                                    <!--</div>-->
                                </ng-container>
                            </div>
                            <div class="settings--card">
                                <div class="row">
                                    <div class="col bold">
                                        Terms and conditions
                                    </div>
                                    <div class="col-12">
                                        <angular-editor id="angular-editor-terms-and-conditions"
                                                        class="angular-editor--withImage"
                                                        [(ngModel)]="widget.settings[deviceType].payment_settings.terms.text"
                                                        [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(6)}"
                     *ngIf="widget.widget_type.method !== widgetTypes.article.name && widget.widget_type.method !== widgetTypes.custom.name &&
                        widget.settings[deviceType].payment_settings.active">
                    <div class="row collapsible--header" (click)="openTab(6)">
                        <div class="col-11">
                            MONETIZATION STEP 2
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(6)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>

                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(6)">
                        <p *ngIf="(widget.widget_type.method === 'leaderboard')">This widget is in second step show
                            popup widget by default.</p>
                        <div class="settings--card">
                            <div class="row">
                                <div class="col-12 bold">
                                    <div class="settings--card--header">
                                        Step 2 title
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <angular-editor id="angular-editor-step-2-title" class="angular-editor--simple"
                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.second_step.title.text"
                                                    [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                </div>
                                <div class="col-12 bold pt-3">
                                    <div class="settings--card--header">
                                        CTA - transfer
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <angular-editor id="angular-editor-cta-text" class="angular-editor--simple"
                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.second_step.cta.transfer.text"
                                                    [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                </div>
                                <div class="col-12 boldpt-3">
                                    <div class="settings--card--header">
                                        CTA - payBySquare
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <angular-editor id="angular-editor-pay-by-square-text"
                                                    class="angular-editor--simple"
                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.second_step.cta.payBySquare.text"
                                                    [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="{'flex-open':isOpened(7)}"
                     *ngIf="widget.widget_type.method !== widgetTypes.article.name && widget.widget_type.method !== widgetTypes.custom.name &&
                        widget.settings[deviceType].payment_settings.active">
                    <div class="row collapsible--header" (click)="openTab(7)">
                        <div class="col-11">
                            MONETIZATION STEP 3
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(7)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(7)">
                        <p *ngIf="(widget.widget_type.method === 'leaderboard')">This widget is in third step show popup
                            widget by default.</p>
                        <div class="settings--card">
                            <div class="row">
                                <div class="col-12 bold">
                                    <div class="settings--card--header">
                                        Step 3 title
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <angular-editor id="angular-editor-step-3-title" class="angular-editor--simple"
                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.third_step.title.text"
                                                    [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                </div>
                                <div class="col-12 bold pt-3">
                                    <div class="settings--card--header">
                                        CTA - redirect to my profile description above button
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <angular-editor id="angular-editor-step3-description" class="angular-editor--simple"
                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.third_step.cta.description"
                                                    [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                </div>
                                <div class="col-12 bold pt-3">
                                    <div class="settings--card--header">
                                        CTA - redirect to my profile description list above button
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <angular-editor id="angular-editor-step3-list" class="angular-editor--halfSimple"
                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.third_step.cta.list"
                                                    [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                </div>
                                <div class="col-12 bold pt-3">
                                    <div class="settings--card--header">
                                        CTA - redirect to my profile
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <angular-editor id="angular-editor-step-3-cta-text" class="angular-editor--simple"
                                                    [(ngModel)]="widget.settings[deviceType].payment_settings.third_step.cta.text"
                                                    [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="'flex-open'"
                     *ngIf="widget.widget_type.method === widgetTypes.article.name">
                    <div class="row collapsible--header" (click)="openTab(10)">
                        <div class="col-11">
                            WIDGET TEXT
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="isOpened(10)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper" [ngbCollapse]="!isOpened(10)">
                        <div class="settings--card">
                            <div class="settings--card--body">
                                <p>Font family and font styles will be overrided with fonts used in your articles.</p>
                                <angular-editor id="angular-editor-article-widget-text" class="angular-editor--classic"
                                                [(ngModel)]="widget.settings[deviceType].additional_settings.articleWidgetText"
                                                [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="collapse-container" [ngClass]="'flex-open'"
                     *ngIf="widget.widget_type.method === widgetTypes.custom.name">
                    <div class="row collapsible--header" (click)="openTab(11)">
                        <div class="col-11">
                            HTML CONTENT
                        </div>
                        <div class="col-1 vertical-align">
                            <label class="button-expand"
                                   type="button"
                                   [attr.aria-expanded]="!isOpened(11)" aria-controls="targeting-settings">
                            </label>
                        </div>
                    </div>
                    <div class="settings--card--wrapper show" [ngbCollapse]="isOpened(11)">
                        <div class="settings--card">
                            <div class="settings--card--body">
                                <p>Here you can write your own html widget with inline styles. You can type plain text
                                    or <b>click on html button under this text</b> and start write your own html code.
                                </p>
                                <angular-editor id="angular-editor-custom-html" class="angular-editor--html"
                                                [(ngModel)]="widget.settings[deviceType].additional_settings.customHtmlWidget"
                                                [config]="{placeholder: 'Enter text here...', editable: true, uploadUrl: uploadUrl}"></angular-editor>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ng-container>
    <app-alert *ngIf="alertOpen" [type]="alertType" [(open)]="alertOpen" [message]="alertMessage"></app-alert>
    <app-actions class="actions" [(deviceType)]="deviceType" [live]="true" (submit)="updateWidget($event)"
                 (preview)="togglePreview()"
                 (deviceTypeChange)="recreateRadioButtons()"
                 [submitting]="saving"
                 [saveWithoutClosingButton]="true"></app-actions>
</div>

<app-preview #previewGenerateHTML *ngIf="preview" [loading]="loading || saving" [widget]="widget"
             [deviceType]="deviceType" [(show)]="preview">
</app-preview>
